---
label: "DSPy Integration"
icon: <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="#ef3e33" d="M2.8 0.15c-1.9 0.04-2.27 0.09-2.42 0.37C0.15 0.99 0.04 22.43 0.29 22.71c0.33 0.33 7.38 0.57 15.67 0.51 4.28-0.04 7.87-0.13 7.96-0.2 0.07-0.09 0.15-5.2 0.15-11.35V0.48l-0.55-0.16C23.01 0.15 7.94 0.02 2.8 0.15M12.05 1.81c0.04 0.35 0.02 0.92-0.05 1.24C11.9 3.61 11.83 3.66 11.24 3.66c-0.48 0-0.79 0.15-1.19 0.53-0.48 0.49-0.53 0.66-0.53 1.76s0.05 1.26 0.53 1.76c0.4 0.38 0.71 0.53 1.19 0.53 0.75 0 0.77 0.02 0.46 1.78-0.24 1.32-0.16 1.3-2.42 0.97-1.76-0.26-2.03-0.09-1.87 1.19 0.15 1.24-0.13 1.56-1.39 1.56-1.08 0-1.23-0.2-0.93-1.45 0.29-1.23 0.09-1.35-2.16-1.45l-1.83-0.07V7.43c0-1.81 0.05-3.99 0.13-4.83l0.11-1.5 5.33 0.04 5.33 0.05zM22.69 1.21l0.59 0.13-0.05 4.91c-0.04 2.69-0.09 4.92-0.15 4.98-0.05 0.04-0.73 0.13-1.5 0.2l-1.43 0.13v-0.92c0-0.79-0.07-0.97-0.59-1.39-0.53-0.46-0.7-0.49-1.85-0.42-1.17 0.05-1.32 0.11-1.81 0.68-0.48 0.53-0.55 0.73-0.46 1.41L15.53 11.72l-1.32-0.11c-0.71-0.07-1.37-0.18-1.45-0.26-0.09-0.07-0.05-0.62 0.05-1.21 0.11-0.6 0.18-1.5 0.15-2l-0.05-0.92-0.92-0.05c-1.15-0.07-1.37-0.27-1.37-1.23 0-0.99 0.31-1.28 1.26-1.12 0.97 0.15 1.15-0.13 1.26-2.09l0.09-1.65h4.43c2.44 0 4.71 0.05 5.02 0.11M18.83 10.06c0.18 0.11 0.24 0.49 0.18 1.32l-0.05 1.17 2.16-0.04L23.26 12.45v1.98c0 1.08-0.05 3.26-0.13 4.83l-0.11 2.89H12.45V19.63l1.01 0.04c1.32 0.02 1.92-0.51 2.07-1.87 0.18-1.98-0.59-2.91-2.25-2.73l-1.01 0.11v-0.95c0-1.76-0.04-1.72 1.85-1.54 2.51 0.26 2.93 0.02 2.51-1.37-0.2-0.7-0.18-0.77 0.2-1.08 0.44-0.37 1.57-0.46 2-0.18m-15.01 2.67c0.11 1.68 0.57 2.11 2.31 2.11 1.72 0 2.49-0.66 2.49-2.11 0-0.6 0.04-0.64 0.6-0.62 0.31 0 0.92 0.05 1.32 0.13l0.71 0.13L11.19 13.92c-0.02 0.86 0.04 1.79 0.15 2.09 0.18 0.46 0.27 0.51 0.81 0.4 1.98-0.37 1.94-0.37 2.14 0.15 0.27 0.73 0.22 1.3-0.13 1.74-0.31 0.37-0.38 0.38-1.37 0.16-0.82-0.16-1.12-0.16-1.28 0-0.13 0.13-0.22 0.86-0.22 1.9l-0.02 1.7-2.29 0.05c-1.26 0.04-3.55 0-5.07-0.05L1.1 21.94V11.88l1.34 0.05 1.32 0.05z"/></svg>
order: 10
expanded: true
---

!!!warning
Disable the LiteLLM cache with a `litellm.cache = None` before your dspy.Metric call to avoid a known issue for between LiteLLM and Instructor.
!!!

View an example of using an ensemble Verdict pipeline as a [DSPy metric](https://dspy.ai/learn/evaluation/metrics/) for [automated red-teaming](https://github.com/haizelabs/dspy-redteam/blob/master/redteam.py#L99).
